<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <title>Daily Digest - Premium Content</title>
    
    <script type="text/javascript" src="//data527.click/0d310ba0dcf019dcff15/3b1bed241a/?placementName=default"></script>
    
    <script>(function(s){s.dataset.zone='10415258',s.src='https://nap5k.com/tag.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>
    
    <script>(function(s){s.dataset.zone='10415259',s.src='https://gizokraijaw.net/vignette.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>

    <script src="https://saviourcrimpycrimpyhem.com/e3/f0/68/e3f068eb0c5fa73f94b5c77b2b141f29.js"></script>

    <script src="https://saviourcrimpycrimpyhem.com/55/cf/be/55cfbe12b32521ab39b9a215ae14e0a5.js"></script>

    <style>
        body { font-family: 'Georgia', serif; margin: 0; padding: 0; background: #fdfdfd; color: #333; line-height: 1.8; }
        .wrapper { max-width: 700px; margin: 0 auto; background: #fff; padding: 20px; box-shadow: 0 0 10px rgba(0,0,0,0.05); }
        
        /* AD BOX STYLING */
        .ad-slot { 
            margin: 25px 0; 
            padding: 10px; 
            background: #f4f4f4; 
            border: 1px dashed #ccc; 
            text-align: center; 
            overflow: hidden;
            display: flex; justify-content: center; align-items: center;
            min-height: 100px;
        }
        .ad-label { font-size: 10px; color: #999; display: block; margin-bottom: 5px; text-transform: uppercase; }

        /* CONTENT STYLING */
        h1 { font-size: 28px; color: #2c3e50; margin-bottom: 10px; }
        h2 { font-size: 22px; color: #e67e22; margin-top: 30px; }
        p { margin-bottom: 15px; font-size: 18px; color: #555; text-align: justify; }
        
        /* FLOATING TIMER */
        .sticky-footer {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: #fff; border-top: 2px solid #00C853;
            padding: 15px; display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.1); z-index: 999;
        }
        .timer-badge { background: #2c3e50; color: #fff; padding: 5px 15px; border-radius: 20px; font-weight: bold; }
        .next-btn { background: #00C853; color: white; border: none; padding: 10px 25px; border-radius: 5px; font-weight: bold; font-size: 16px; cursor: pointer; display: none; }
        
    </style>
</head>
<body>

    <div style="text-align:center; background:#eee; padding:5px;">
        <ins style="width: 728px;height:90px" data-width="728" data-height="90" class="y9ce5119f35" data-domain="//data527.click" data-affquery="/388273335727fcad9412/9ce5119f35/?placementName=Banner"><script src="//data527.click/js/responsive.js" async></script></ins>
    </div>

    <div class="wrapper">
        
        <h1 id="pageTitle">Loading Premium Content...</h1>
        <p style="color:#777; font-size:14px;">Published on: <span id="pubDate"></span> | Category: <span id="catName"></span></p>

        <div class="ad-slot">
            <script async="async" data-cfasync="false" src="https://saviourcrimpycrimpyhem.com/c88c75a76c6fd4a464ff59db12fe99a2/invoke.js"></script>
            <div id="container-c88c75a76c6fd4a464ff59db12fe99a2"></div>
        </div>

        <div id="contentPart1"></div>

        <div class="ad-slot">
            <span class="ad-label">Sponsored</span>
            <script>
            (function(uaa){
            var d = document, s = d.createElement('script'), l = d.scripts[d.scripts.length - 1];
            s.settings = uaa || {};
            s.src = "\/\/swiftvolume.com\/bwXiVlskd.G\/l\/0\/YqW\/cH\/veGmU9buNZvUYlOk_PQT\/Y\/3cMOztgUxIM\/j-AzttNhjhcmznOGDSEUy\/MRQH";
            s.async = true; s.referrerPolicy = 'no-referrer-when-downgrade';
            l.parentNode.insertBefore(s, l);
            })({})
            </script>
        </div>

        <div id="contentPart2"></div>

        <div class="ad-slot">
            <span class="ad-label">Advertisement</span>
            <script>
                atOptions = { 'key' : '1fb9d972455af3bc91e9c866cb451122', 'format' : 'iframe', 'height' : 300, 'width' : 160, 'params' : {} };
            </script>
            <script src="https://saviourcrimpycrimpyhem.com/1fb9d972455af3bc91e9c866cb451122/invoke.js"></script>
        </div>

        <div id="contentPart3"></div>

        <div class="ad-slot">
            <script>
            (function(duus){
            var d = document, s = d.createElement('script'), l = d.scripts[d.scripts.length - 1];
            s.settings = duus || {};
            s.src = "\/\/swiftvolume.com\/bHXTV.ssdeGOl\/0\/YGW\/cG\/meBm_9_uaZNUOlZkTPTTuY\/3mNCDQAA5\/N\/z\/A\/t\/NSj\/c\/0OMpDkkr3lMcQc";
            s.async = true; s.referrerPolicy = 'no-referrer-when-downgrade';
            l.parentNode.insertBefore(s, l);
            })({})
            </script>
        </div>

        <div id="contentPart4"></div>

        <div class="ad-slot">
            <script>
                atOptions = { 'key' : '3e6091ef5936d50338670e238828348f', 'format' : 'iframe', 'height' : 60, 'width' : 468, 'params' : {} };
            </script>
            <script src="https://saviourcrimpycrimpyhem.com/3e6091ef5936d50338670e238828348f/invoke.js"></script>
        </div>

        <div style="text-align:center; margin:30px 0;">
            <a href="https://data527.click/7066235c5a1ee76c1cc8/d16bec360c/?placementName=Direct" target="_blank" style="background:#FF5722; color:white; padding:15px 30px; text-decoration:none; font-weight:bold; border-radius:5px; display:inline-block;">
                CLICK TO VERIFY (Required)
            </a>
        </div>

    </div>

    <script>
    (function(flaj){
    var d = document, s = d.createElement('script'), l = d.scripts[d.scripts.length - 1];
    s.settings = flaj || {};
    s.src = "\/\/swiftvolume.com\/b\/XBVis.duGhl\/0GYfWHcJ\/we\/mx9dunZyULlxk\/PQTmYk3FM\/zegbxZMYTCI\/tRNvjlckz\/O\/DaE\/x-MGwj";
    s.async = true; s.referrerPolicy = 'no-referrer-when-downgrade';
    l.parentNode.insertBefore(s, l);
    })({})
    </script>

    <div class="sticky-footer">
        <div class="timer-badge">⏳ Time: <span id="timer">60</span>s</div>
        <button id="nextBtn" class="next-btn" onclick="claimReward()">CLAIM ₹1 & NEXT >></button>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBXOBu6fmbco27_ugn9pFg2XQ-TaIeNRpY",
            authDomain: "apknixy-bc9ee.firebaseapp.com",
            projectId: "apknixy-bc9ee",
            storageBucket: "apknixy-bc9ee.firebasestorage.app",
            messagingSenderId: "99276264960",
            appId: "1:99276264960:web:a4f28913305288544e2ae5"
        };
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        // URL Params
        const urlParams = new URLSearchParams(window.location.search);
        const taskId = parseInt(urlParams.get('id')) || 1;
        const isAuto = urlParams.get('auto') === 'true';
        let timeLeft = 60; // 60 Seconds
        let currentUser = null;

        // --- CONTENT GENERATOR (1000 Unique Pages Logic) ---
        const topics = [
            { t: "Future of AI Technology", c: "Technology" },
            { t: "Top 10 Crypto Investments", c: "Finance" },
            { t: "Healthy Living Habits", c: "Health" },
            { t: "Best Travel Destinations", c: "Travel" },
            { t: "Mobile Gaming Revolution", c: "Gaming" },
            { t: "Digital Marketing Trends", c: "Business" },
            { t: "Electric Vehicles 2026", c: "Auto" }
        ];

        function generateContent(id) {
            // Select topic based on ID (Looping)
            const topic = topics[id % topics.length];
            document.getElementById('pageTitle').innerText = `${topic.t} - Part ${id}`;
            document.getElementById('catName').innerText = topic.c;
            document.getElementById('pubDate').innerText = new Date().toDateString();

            // Generate Long Text (700+ Words)
            const filler = `In the modern era of ${topic.c}, we are witnessing unprecedented changes. Step ${id} of our journey explores the depths of this field. Experts suggest that understanding the core principles is vital. `;
            const filler2 = `Furthermore, as we delve deeper into ${topic.t}, the impact on global markets becomes apparent. It is not just about innovation, but about sustainable growth. `;
            const filler3 = `Considering the future landscape, ${topic.t} offers immense opportunities for those who are prepared. The data suggests a strong upward trend in this sector. `;
            
            // Repeating content to make it long
            let longText1 = "";
            let longText2 = "";
            let longText3 = "";
            let longText4 = "";

            for(let i=0; i<8; i++) longText1 += filler + "This is a critical analysis of the current situation. ";
            for(let i=0; i<8; i++) longText2 += filler2 + "However, challenges remain in implementation. ";
            for(let i=0; i<8; i++) longText3 += filler3 + "Strategic planning is essential for success. ";
            for(let i=0; i<8; i++) longText4 += filler + filler2 + "Conclusion regarding the matter is positive. ";

            document.getElementById('contentPart1').innerHTML = `<p>${longText1}</p>`;
            document.getElementById('contentPart2').innerHTML = `<h2>Key Insights on ${topic.t}</h2><p>${longText2}</p>`;
            document.getElementById('contentPart3').innerHTML = `<h2>Market Analysis</h2><p>${longText3}</p>`;
            document.getElementById('contentPart4').innerHTML = `<h2>Final Thoughts</h2><p>${longText4}</p>`;
        }

        // --- INIT ---
        generateContent(taskId);

        auth.onAuthStateChanged(user => {
            if (user) {
                currentUser = user;
                startTimer();
            } else {
                alert("Please Login");
                window.location.href = "index.html";
            }
        });

        // Wake Lock
        async function keepScreenOn() {
            try { if ('wakeLock' in navigator) await navigator.wakeLock.request('screen'); } catch(e){}
        }

        function startTimer() {
            keepScreenOn();
            const interval = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').innerText = timeLeft;
                
                // AUTO SCROLL (Slowly down)
                if(isAuto) window.scrollBy(0, 3); 

                if(timeLeft <= 0) {
                    clearInterval(interval);
                    document.getElementById('nextBtn').style.display = 'block';
                    document.getElementById('nextBtn').innerText = "CLAIM ₹1 (Ready)";
                    
                    if(isAuto) {
                        document.getElementById('nextBtn').innerText = "Auto Claiming...";
                        setTimeout(claimReward, 3000);
                    }
                }
            }, 1000);
        }

        async function claimReward() {
            if(!currentUser) return;
            try {
                // Secure API Call
                const res = await fetch('/api/reward', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ uid: currentUser.uid, taskId: taskId })
                });
                
                const data = await res.json();
                if(data.success) {
                    if(taskId >= 1000) {
                        window.location.href = "index.html";
                    } else {
                        // Redirect to Next Task
                        window.location.href = `task.html?id=${taskId + 1}&auto=${isAuto}`;
                    }
                } else {
                    alert(data.error);
                }
            } catch(e) { console.log(e); }
        }
    </script>
</body>
</html>
